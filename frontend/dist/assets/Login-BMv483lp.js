import{u as N,r as t,j as e,L as v,b as E,B as C}from"./index-HjvooKpM.js";import{C as S}from"./Toast-DwbOLzDo.js";import{i as L}from"./auth.utility-BSlGJMKu.js";import{B as P}from"./Button-Bo3fKrTY.js";import"./ThemeProvider-B1N1Idvp.js";import"./useTimeout-1ZLlq2F-.js";import"./TransitionWrapper-CBvFqiYv.js";import"./useEventCallback-Dv_9Mjij.js";import"./Button-ClrWuGp5.js";function O(){document.title="CPMS | Management Login";const l=N(),[m,d]=t.useState(!1),[a,r]=t.useState({});t.useEffect(()=>{L()&&l("../tpo/dashboard")},[l]);const[u,c]=t.useState(!1),[g,x]=t.useState(""),[s,f]=t.useState({email:"",password:""}),{email:h,password:w}=s,p=o=>{if(f({...s,[o.target.name]:o.target.value}),o.target.name==="email")return r({...a,email:""});if(o.target.name==="password")return r({...a,password:""})},j=async o=>{if(o.preventDefault(),!(s!=null&&s.email)&&!(s!=null&&s.password))return r({email:"Email Required!",password:"Password Required!"});if(!(s!=null&&s.email))return r({email:"Email Required!"});if(!(s!=null&&s.password))return r({password:"Password Required!"});d(!0);try{const n=await E.post(`${C}/management/login`,s);localStorage.setItem("token",n.data.token),l("/management/dashboard")}catch(n){n.response.data.msg&&(x(n.response.data.msg),c(!0)),console.log("Error in Management login.jsx => ",n),d(!1)}},[i,y]=t.useState(!1),b=()=>{y(!i)};return e.jsxs(e.Fragment,{children:[e.jsx(S,{show:u,onClose:()=>c(!1),message:g,delay:3e3,position:"bottom-end"}),e.jsx("div",{className:"flex justify-center items-center h-screen bg-gradient-to-r from-cyan-500 from-10% via-purple-400 via-40% to-pink-500 to-100%",children:e.jsxs("form",{className:"form-signin flex justify-center items-center flex-col gap-3 backdrop-blur-md bg-white/30 border border-white/20 rounded-lg p-8 shadow shadow-red-400 w-1/3 max-lg:w-2/3 max-md:w-3/4 max-[400px]:w-4/5",onSubmit:j,children:[e.jsxs("div",{className:"flex justify-center items-center flex-col",children:[e.jsx("img",{className:"mb-4 rounded-xl shadow w-30 h-28 lg:w-40 lg:h-40",src:`${v}`,alt:"Logo Image"}),e.jsx("h1",{className:"h3 mb-3 font-weight-normal",children:"Management Log In"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("label",{htmlFor:"inputEmail",className:"sr-only",children:"Email address"}),e.jsx("input",{type:"email",id:"inputEmail",className:"form-control ml-1",placeholder:"Email address",autoFocus:"",fdprocessedid:"gwlj3s",autoComplete:"email",name:"email",value:h,onChange:p}),e.jsx("div",{className:"text-red-500 ml-2 text-left",children:a==null?void 0:a.email})]}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-center items-center w-full",children:[e.jsx("label",{htmlFor:"inputPassword",className:"sr-only",children:"Password"}),e.jsx("input",{type:`${i?"text":"password"}`,id:"inputPassword",className:"form-control",placeholder:"Password",fdprocessedid:"9sysne",autoComplete:"current-password",name:"password",value:w,onChange:p}),e.jsx("i",{className:`${i?"fa-solid fa-eye":"fa-regular fa-eye-slash"} -ml-6 cursor-pointer`,onClick:b})]}),e.jsx("div",{className:"text-red-500 ml-2 text-left",children:a==null?void 0:a.password})]}),e.jsx("div",{className:"flex justify-center items-center flex-col",children:e.jsx(P,{type:"submit",variant:"primary",disabled:m,children:m?"Loading...":"Log In"})}),e.jsxs("span",{className:"text-center",children:["Log In as TPO?",e.jsx("span",{className:"text-blue-500 font-bold cursor-pointer px-1",onClick:()=>l("../tpo/login"),children:"Click Here"})]}),e.jsx("p",{className:"text-muted text-center text-gray-400",children:"Â© College Placement Management System 2025"})]})})]})}export{O as default};
